{% extends "layout.html" %}

{% block page_title %}
  Apprenticeships
{% endblock %}

{% block content %}


<style>
 #navigation-primary, #kill-me {
  display:none;
}
</style>

<main id="content" role="main">
{% include "includes/phase_banner_beta.html" %}
{% include "includes/secondary-nav-provider.html" %}


  <!--div class="breadcrumbs">
    <ol role="breadcrumbs">
      <li><a href="/{% include "includes/sprint-link.html" %}/balance">Access my funds</a></li>
    </ol>

  </div-->

     <div class="breadcrumbs back-breadcrumb">
    <ol role="breadcrumbs">
      {% include "includes/breadcrumbs/register-back.html" %}
    </ol>
  </div>


<div class="grid-row">

           <div class="column-two-thirds">
  <h1 class="heading-xlarge" >Set payment priority order</h1>

    <p>The order of training providers decides which provider gets paid first from your available funds. 
      The training provider listed first will be paid first.</p>
  
  <div id="upDownButton">
  
    <ul>
      <li><button class="upbutton" id="buttonUp">&#x2191;</button></li>
      <li><button class="downbutton" id="buttonDown">&#x2193;</button></li>
    </ul>

  </div>   
 

    

      <!--div id="upDownButton">
        <ul class="stack button-group">
          <li><button class="upbutton">Up</button></li>
          <li><button class="downbutton">Down</button></li>
        </ul> 
      </div-->

    <div class="sortingContainer">  

      <ul id="ul_li_SubCategories" style="width:200px;" class="chargeCapturetable margin0">
        <li sequence="1" title="Provider 1" class="liEllipsis" value="9"><span class="viewIcons delFaceName _delete fl"></span>Provider MOD</a>
        </li>
        <li sequence="2" title="Provider 3" class="liEllipsis selected" value="11"><span class="viewIcons delFaceName _delete fl"></span>Provider 3</a>
        </li>
        <li sequence="4" title="Provider 4" class="liEllipsis" value="12"><span class="viewIcons delFaceName _delete fl"></span>Provider 4</a>
        </li>
        <li sequence="5" title="Provider 6" class="liEllipsis" value="22"><span class="viewIcons delFaceName _delete fl"></span>Provider 6</a>
        </li>
        <li sequence="6" title="Provider 5" class="liEllipsis" value="13"><span class="viewIcons delFaceName _delete fl"></span>Provider 5</a>
        </li>
      </ul>

    </div>

<script>

  $('.liEllipsis').on('click', function () {
    $('.selected').removeClass('selected');
    $(this).addClass('selected');
    });

    $('.upbutton').on('click', function () {
        var $currentElement = $('#ul_li_SubCategories .selected');
        moveUp($currentElement);
    });
        
    $('.downbutton').on('click', function () {
        var $currentElement = $('#ul_li_SubCategories .selected');
        moveDown($currentElement);
    });

    var moveUp = function ($currentElement) {
        var hook = $currentElement.prev('.liEllipsis');
        if (hook.length) {
            var elementToMove = $currentElement.detach();
            hook.before(elementToMove);
        }
    };

    var moveDown = function ($currentElement) {
        var hook = $currentElement.next('.liEllipsis');
        if (hook.length) {
            var elementToMove = $currentElement.detach();
            hook.after(elementToMove);
        }
    };

</script>
 
 
    <!--div style="margin-top:35px"></div>

    <input class="button" id="search-provider" type="submit" value="Review your agreement">
    <p style="margin-top:20px;"><a href="./listing/approval">Continue to cohort</a></p>
</form--  >


    <!--details style="margin-bottom:25px">
  <summary><span class="summary">What is a UKPRN?</span></summary>
  <div class="panel panel-border-narrow" >
    <p>
      A UK provider registration number (UKPRN) is a unique number that each training provider has to help identify them. Your training provider will be able to tell you their UKPRN.
    </p>
  </div>
</details-->



    <!-- template to pull in the start tabs so this doesn't get too messy - it is pulling in the tabs -->
<!-- {% include "includes/start-tabs.html" %} -->

            </div>

             <div class="column-one-third">
                      <!--aside class="related">
                        <h2 class="heading-medium" style="margin-top:10px">Existing account</h2>
                        <nav role="navigation">
                      <ul class="robSideNav">
                          <li>
                            <a href="../login">Sign in</a>
                          </li>

                        </ul>
                           </nav>
                    </aside-->
            </div>
</div>
</main>

<script>
//jquery that runs the tabs. Uses the jquery.tabs.js from gov.uk



$( document ).ready(function() {

  // change the tabs themselves to active - should be in the above but isn't working because it's looking for a not li so I added this as a quick fix.

  $("ul#tabs-nav li").click(function(e){
        if (!$(this).hasClass("active")) {
            var tabNum = $(this).index();
            var nthChild = tabNum+1;
            $("ul#tabs-nav li.active").removeClass("active");
            $(this).addClass("active");
            $("ul#tabs-nav li.active").removeClass("active");
            $("ul#tabs-nav li:nth-child("+nthChild+")").addClass("active");
        }
    });
});

  $('ul.tabs-nav').each(function(){
    // For each set of tabs, we want to keep track of
    // which tab is active and its associated content
    var $active, $content, $links = $(this).find('a');



    // If the location.hash matches one of the links, use that as the active tab.
    // If no match is found, use the first link as the initial active tab.
    $active = $($links.filter('[href="'+location.hash+'"]')[0] || $links[0]);
   // $active.addClass('active');
   console.log($active)

    $content = $($active[0].hash);

    // Hide the remaining content
    $links.not($active).each(function () {
      $(this.hash).hide();
    }); 

    // Bind the click event handler
    $(this).on('click', 'a', function(e){
      // Make the old tab inactive.
    //  $active.removeClass('active');
      $content.hide();

      // Update the variables with the new link and content
    //  $active = $(this);
      $content = $(this.hash);

      // Make the tab active.
     // $active.addClass('active');
      $content.show();

      // Prevent the anchor's default click action
      e.preventDefault();
    });
  });


</script>


{% endblock %}
